@model IEnumerable<BoutiqueManagement.Models.Item>
@{
    ViewBag.Title = "Admin Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Welcome to Administration Page.</h2>
@*<h3>Hi @User.Identity.Name</h3>*@

<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js" type="text/javascript"></script>
<link href="https://getbootstrap.com/docs/3.3/getting-started/"  rel="text/css"/>
<link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="text/css" />


<div class="container">
    <br />
    <div style="width:90%;margin:0 auto;">
        <table id="demoGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>

                    <th>
                        ItemId
                    </th>
                    <th>
                        ItemName
                    </th>
                    <th>
                        Price
                    </th>
                    <th>
                        CategoryId
                    </th>
                    <th>
                        BrandId
                    </th>
                    <th>
                        ItemImage
                    </th>
                    <th>Action</th>
                </tr>
            </thead>
            @*<tbody>
                    @foreach (var item in Model)
                    {
                    <tr>
                        <td>@item.ItemId</td>
                        <td>@item.ItemName</td>
                        <td>@item.Price</td>
                        <td>@item.CategoryId</td>
                        <td>@item.BrandId</td>
                        <td>@item.ItemImage</td>
                        <td></td>
                    </tr>
                    }

                </tbody>*@
        </table>

    </div>
</div>
<script>
    $(document).ready(function () {

        $('#demoGrid').DataTable({
            processing: true,
            serverSide: true,
            filter: true,
            searching: false,
            scrollY: 300,
            paging: false,
            dom: 'lrtip',
            info: false,
            paging: true,
            lengthMenu: [5, 10, 15, 25],
            pageLength: 5,
            "ajax": {
                "url": "/Admin/Index",
                "type": "POST",
                "datatype": "json"
            },
            "columnDefs": [{
                "targets": [0],
                "visible": false,
                "searchable": false
            }],
            "columns": [
                { "data": "ItemId", "autowidth": true },
                { "data": "ItemName", "autowidth": true },
                { "data": "Price", "autowidth": true },
                { "data": "CategoryId", "autowidth": true },
                { "data": "BrandId", "autowidth": true },
                { "data": "ItemImage", "autowidth": true },
                {
                    "render": function (data, type, row, meta) {
                        return '<a class="btn btn-info">Edit</a>';
                    }
                },
            ]
        });

    });
</script>