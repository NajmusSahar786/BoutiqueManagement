@{
    ViewBag.Title = "Admin Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Welcome to Administration Page.</h2>
@*<h3>Hi @User.Identity.Name</h3>*@
@*<link rel="stylesheet" type="text/css" href="~/Content/DataTables/css/jquery.dataTables.css">
<script src="~/Scripts/DataTables/jquery.dataTables.js"></script>
<script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>*@
<link href="//cdn.datatables.net/2.0.1/css/dataTables.dataTables.min.css" rel="stylesheet" type="text/css" />
<script src="~/Scripts/dataTables.min.js" type="text/javascript"></script>


<div class="container">
    <br />
    <div style="width:90%;margin:0 auto;">
        <table id="demoGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>Action</th>
                    <th>
                        ItemId
                    </th>
                    <th>
                        ItemName
                    </th>
                    <th>
                        Price
                    </th>
                    <th>
                        CategoryId
                    </th>
                    <th>
                        BrandId
                    </th>
                    <th>
                        ItemImage
                    </th>

                </tr>
            </thead>
            <tbody>
            @*<tbody>
                    @foreach (var item in Model)
                    {
                    <tr>
                        <td>@item.ItemId</td>
                        <td>@item.ItemName</td>
                        <td>@item.Price</td>
                        <td>@item.CategoryId</td>
                        <td>@item.BrandId</td>
                        <td>@item.ItemImage</td>
                        <td></td>
                    </tr>
                    }

                </tbody>*@
        </table>

    </div>
</div>
<script>
    $(document).ready(function () {
        debugger;
        $.ajax({
            "url": "/Admin/GetData",
            "type": "GET",
            "datatype": 'json',
            "success": function (data) {
                //alert('success');
                console.log(data);
                $('#demoGrid').DataTable({
                    data: data,
                    dom: 'lrtip',
                    lengthMenu: [[5, 10, -1], [5, 10, "All"]],
                    columns:
                        [
                            {
                                "render": function (data, type, row)
                                {
                                    return '<a href="/Admin/Edit/"><i class="fa fa-edit" style="font-size:17px;color:red;"></i></a>&nbsp;&nbsp;<a href="/Admin/Delete/"><i class="fa fa-trash" style="font-size:17px;color:red;"></i></a>';
                                }
                            },
                            { "data": "ItemId" },
                            { "data": "ItemName","class":"text-wrap" },
                            { "data": "Price" },
                            { "data": "CategoryId" },
                            { "data": "BrandId" },
                            { "data": "ItemImage" }
                           
                        ]
                });
            }
        });
        //$('#demoGrid').DataTable({
        //    processing: true,
        //    serverSide: true,
        //    filter: true,
        //    searching: false,
        //    scrollY: 300,
        //    paging: false,
        //    dom: 'lrtip',
        //    info: false,
        //    paging: true,
        //    lengthMenu: [5, 10, 15, 25],
        //    pageLength: 5,
        //    "columnDefs": [{
        //        "targets": [0],
        //        "visible": false,
        //        "searchable": false
        //    }],
        //    "ajax": {
        //        "url": "/Admin/Index",
        //        "type": "GET",
        //        "datatype": "json"
        //    },
        //    columns: [
        //        { "data": "ItemId" },
        //        { "data": "ItemName" },
        //        { "data": "Price" },
        //        { "data": "CategoryId" },
        //        { "data": "BrandId" },
        //        { "data": "ItemImage" },
        //        {
        //            "render": function (data, type, row, meta) {
        //                return '<a class="btn btn-info">Edit</a>';
        //            }
        //        }
        //    ]
        //});

    });
</script>